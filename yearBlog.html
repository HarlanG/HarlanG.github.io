---
layout: layout
title: 年度博文
---
<div class="container" id="index-body">
    <div class="row ">
        <!--左侧主体-->
        <div class="col-xs-12  col-sm-12 yearBlogTip">
            <span class="glyphicon glyphicon-home"></span>首页>博文
        </div>

        <div class="col-sm-12  col-md-9 row">
            {% for year in site.data.years %}
            {% assign yearcount = 0 %}
            {% assign y = year.y %}
            {% for post in site.posts %}
            {% assign postyear = post.date | date: "%Y" %}
            {% if postyear == y %}
            {% assign yearcount = yearcount | plus : 1 %}
            {% endif %}
            {% endfor %}
            <div class="col-sm-12  col-md-12 row list-group yearBlogSub-container">
                <a href="#" class="list-group-item yearBlogSub">{{ y }}年度 (共计{{ yearcount }}篇)</a>
            </div>
            {% endfor %}
        </div>

        <!--右侧分类-->
        <div class="col-sm-0 col-md-3">
        	<div class="col-md-12 typetags">
            <div class="  tags-padding-vertical box-shadow-0-5">
                <span class="glyphicon glyphicon-calendar"></span>&nbsp;&nbsp;&nbsp;<strong>年度博文</strong>
            </div>
            <ul id="yearblog-tags" class="list-group ">
                {% for year in site.data.years %}
                    {% assign yearcount = 0 %}
                    {% assign y = year.y %}
                    {% for post in site.posts %}
                        {% assign postyear = post.date | date: "%Y" %}
                        {% if postyear == y %}
                            {% assign yearcount = yearcount | plus : 1 %}
                        {% endif %}
                    {% endfor %}
                <li class="list-group-item margin-top-3 margin-top-5px">
                    <a class="a-black-noline" href="#"><span>{{ y }}年度</span></a><span class="pull-right badge">{{ yearcount }}</span>
                </li>
                {% endfor %}

            </ul>
        </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            var siteurl = $("#siteurl").val();
            var yearBlogs = "";
            var yearBlogsPath = "/yearBlogs.json";
            $.ajaxSettings.async = false; //设置getJson同步
            $.getJSON(yearBlogsPath,function (data) {
                yearBlogs = data;
            });
            $.ajaxSettings.async = true;//设置getJson异步
            var yearBlogSub =  $(".yearBlogSub-container");
            $.each(yearBlogSub,function (offset, element) {
                var subYearBlogs = yearBlogs[offset];
                for(var i = 0 ; i <subYearBlogs.length-1;i++ ){
                    for(var j = 0 ; j< subYearBlogs.length-1;j++ ){
                        if (subYearBlogs[j].articles < subYearBlogs[j+1].articles){
                            var temp = subYearBlogs[j+1] ;
                            subYearBlogs[j+1] = subYearBlogs[j];
                            subYearBlogs[j] = temp;
                        }
                    }
                }
                var yearBlogHTML = "";
                for (var i = 0;i< subYearBlogs.length;i++){
                    var subYearBlogHTML = '<a href="'+siteurl+subYearBlogs[i].page_path+'" class="list-group-item"><span class="glyphicon glyphicon-user "></span>'+subYearBlogs[i].name+'<span class="pull-right ">共计<span style="font-size: 18px">'+subYearBlogs[i].articles+'</span>篇</span> </a>'
                    yearBlogHTML += subYearBlogHTML;
                }
                $(element).append(yearBlogHTML);
                $(element).children().first().css("opacity",1-(offset*0.08));
            })

        })
    </script>
</div>


